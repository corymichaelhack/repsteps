{"remainingRequest":"/Users/coryhack/repSteps-recorder/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/coryhack/repSteps-recorder/src/modules/overlay/Selector.vue?vue&type=template&id=0e8d3550&scoped=true","dependencies":[{"path":"/Users/coryhack/repSteps-recorder/src/modules/overlay/Selector.vue","mtime":1642800781935},{"path":"/Users/coryhack/repSteps-recorder/node_modules/babel-loader/lib/index.js","mtime":1643048374140},{"path":"/Users/coryhack/repSteps-recorder/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1643048377068},{"path":"/Users/coryhack/repSteps-recorder/node_modules/cache-loader/dist/cjs.js","mtime":1643048371315},{"path":"/Users/coryhack/repSteps-recorder/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1643048376026}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0ib3ZlcmxheSI+CiAgICA8ZGl2IDpjbGFzcz0ic2VsZWN0b3JDbGFzcyIgcmVmPSJzZWxlY3RvciI+PC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/coryhack/repSteps-recorder/src/modules/overlay/Selector.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClD,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/coryhack/repSteps-recorder/src/modules/overlay/Selector.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"overlay\">\n    <div :class=\"selectorClass\" ref=\"selector\"></div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n  data() {\n    return {\n      overlay: null,\n      selector: null,\n      element: null,\n      scrolling: false,\n      dimensions: {},\n    }\n  },\n\n  computed: {\n    ...mapState(['screenshotClippedMode', 'screenshotMode', 'isStopped']),\n\n    selectorClass() {\n      if (this.isStopped) {\n        return ''\n      }\n\n      if (!this.screenshotMode || this.screenshotClippedMode) {\n        return this.scrolling ? 'hide selector' : 'selector'\n      }\n\n      return ''\n    },\n  },\n\n  methods: {\n    move(e, skippedSelectors = []) {\n      if (this.element === e.target) {\n        return\n      }\n\n      this.element = e.target\n\n      if (skippedSelectors.includes(this.element.id)) {\n        return\n      }\n\n      this.dimensions.top = -window.scrollY\n      this.dimensions.left = -window.scrollX\n\n      let elem = e.target\n\n      while (elem && elem !== document.body) {\n        this.dimensions.top += elem.offsetTop\n        this.dimensions.left += elem.offsetLeft\n        elem = elem.offsetParent\n      }\n\n      this.dimensions.width = this.element.offsetWidth + 2\n      this.dimensions.height = this.element.offsetHeight + 2\n\n      this.$refs.selector.style.top = this.dimensions.top - 2 + 'px'\n      this.$refs.selector.style.left = this.dimensions.left - 2 + 'px'\n      this.$refs.selector.style.width = this.dimensions.width + 'px'\n      this.$refs.selector.style.height = this.dimensions.height + 'px'\n    },\n\n    // TODO: Integrate shooter with selector\n    click(e) {\n      setTimeout(() => {\n        let clip = null\n\n        if (this.$refs.selector) {\n          clip = {\n            x: this.$refs.selector.style.left,\n            y: this.$refs.selector.style.top,\n            width: this.$refs.selector.style.width,\n            height: this.$refs.selector.style.height,\n          }\n        }\n\n        this.$emit('click', { clip, raw: e })\n      }, 100)\n    },\n  },\n}\n</script>\n\n<style scoped>\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  z-index: 2147483646;\n}\n\n.selector {\n  padding: 1px;\n  position: fixed;\n  background: rgba(255, 73, 73, 0.1);\n  border: 2px dashed rgba(255, 73, 73, 0.7);\n}\n\n.hide {\n  display: none;\n}\n</style>\n"]}]}