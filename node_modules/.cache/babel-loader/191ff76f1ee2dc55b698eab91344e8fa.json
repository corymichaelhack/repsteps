{"remainingRequest":"/Users/coryhack/repSteps-recorder/node_modules/thread-loader/dist/cjs.js!/Users/coryhack/repSteps-recorder/node_modules/babel-loader/lib/index.js!/Users/coryhack/repSteps-recorder/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/coryhack/repSteps-recorder/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/coryhack/repSteps-recorder/src/modules/overlay/Overlay.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/coryhack/repSteps-recorder/src/modules/overlay/Overlay.vue","mtime":1642800781935},{"path":"/Users/coryhack/repSteps-recorder/node_modules/cache-loader/dist/cjs.js","mtime":1643048371315},{"path":"/Users/coryhack/repSteps-recorder/node_modules/thread-loader/dist/cjs.js","mtime":1643048371203},{"path":"/Users/coryhack/repSteps-recorder/node_modules/babel-loader/lib/index.js","mtime":1643048374140},{"path":"/Users/coryhack/repSteps-recorder/node_modules/cache-loader/dist/cjs.js","mtime":1643048371315},{"path":"/Users/coryhack/repSteps-recorder/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1643048376026}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NvcnloYWNrL3JlcFN0ZXBzLXJlY29yZGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgZGlyZWN0aXZlIH0gZnJvbSAndnVlLXRpcHB5JzsKaW1wb3J0ICd0aXBweS5qcy9kaXN0L3RpcHB5LmNzcyc7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdPdmVybGF5JywKICBkaXJlY3RpdmVzOiB7CiAgICB0aXBweTogZGlyZWN0aXZlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudFNlbGVjdG9yOiAnJywKICAgICAgc2hvdzogdHJ1ZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ2lzUGF1c2VkJywgJ2lzU3RvcHBlZCcsICdzY3JlZW5zaG90TW9kZScsICdkYXJrTW9kZScsICdoYXNSZWNvcmRlZCcsICdpc0NvcHlpbmcnLCAncmVjb3JkaW5nJ10pKSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgd2luZG93LmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleXVwTGlzdGVuZXIsIGZhbHNlKTsKICB9LAogIGJlZm9yZVVubW91bnQ6IGZ1bmN0aW9uIGJlZm9yZVVubW91bnQoKSB7CiAgICB3aW5kb3cuZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMua2V5dXBMaXN0ZW5lciwgZmFsc2UpOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoWydjb3B5JywgJ3N0b3AnLCAnY2xvc2UnLCAncmVzdGFydCddKSksIHt9LCB7CiAgICBnZXRJY29uOiBmdW5jdGlvbiBnZXRJY29uKGljb24pIHsKICAgICAgcmV0dXJuIGJyb3dzZXIucnVudGltZS5nZXRVUkwoImljb25zLyIuY29uY2F0KHRoaXMuZGFya01vZGUgPyAnZGFyaycgOiAnbGlnaHQnLCAiLyIpLmNvbmNhdChpY29uLCAiLnN2ZyIpKTsKICAgIH0sCiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHsKICAgICAgdGhpcy5zaG93ID0gIXRoaXMuc2hvdzsKICAgIH0sCiAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7CiAgICAgIHRoaXMuaXNQYXVzZWQgPyB0aGlzLiRzdG9yZS5jb21taXQoJ3VucGF1c2UnKSA6IHRoaXMuJHN0b3JlLmNvbW1pdCgncGF1c2UnKTsKICAgIH0sCiAgICBmdWxsU2NyZWVuc2hvdDogZnVuY3Rpb24gZnVsbFNjcmVlbnNob3QoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc3RhcnRTY3JlZW5zaG90TW9kZScsIGZhbHNlKTsKICAgIH0sCiAgICBjbGlwcGVkU2NyZWVuc2hvdDogZnVuY3Rpb24gY2xpcHBlZFNjcmVlbnNob3QoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc3RhcnRTY3JlZW5zaG90TW9kZScsIHRydWUpOwogICAgfSwKICAgIGtleXVwTGlzdGVuZXI6IGZ1bmN0aW9uIGtleXVwTGlzdGVuZXIoZSkgewogICAgICBpZiAoIWUuYWx0S2V5KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoZS5rZXkgPT09ICdrJykgewogICAgICAgIHRoaXMudG9nZ2xlKCk7CiAgICAgIH0KCiAgICAgIGlmIChlLmtleSA9PT0gJ0YnKSB7CiAgICAgICAgdGhpcy5mdWxsU2NyZWVuc2hvdCgpOwogICAgICB9CgogICAgICBpZiAoZS5rZXkgPT09ICdFJykgewogICAgICAgIHRoaXMuY2xpcHBlZFNjcmVlbnNob3QoKTsKICAgICAgfQogICAgfQogIH0pCn07"},{"version":3,"sources":["/Users/coryhack/repSteps-recorder/src/modules/overlay/Overlay.vue"],"names":[],"mappings":";;AAsFA,SAAS,SAAT,QAA0B,WAA1B;AACA,OAAO,yBAAP;AAEA,SAAS,QAAT,EAAmB,YAAnB,QAAuC,MAAvC;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,SADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,KAAK,EAAE;AAAT,GAFC;AAIb,EAAA,IAJa,kBAIN;AACL,WAAO;AACL,MAAA,eAAe,EAAE,EADZ;AAEL,MAAA,IAAI,EAAE;AAFD,KAAP;AAID,GATY;AAWb,EAAA,QAAQ,oBACH,QAAQ,CAAC,CACV,UADU,EAEV,WAFU,EAGV,gBAHU,EAIV,UAJU,EAKV,aALU,EAMV,WANU,EAOV,WAPU,CAAD,CADL,CAXK;AAuBb,EAAA,OAvBa,qBAuBH;AACR,IAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,CAAqB,gBAArB,CAAsC,OAAtC,EAA+C,KAAK,aAApD,EAAmE,KAAnE;AACD,GAzBY;AA2Bb,EAAA,aA3Ba,2BA2BG;AACd,IAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,CAAqB,mBAArB,CAAyC,OAAzC,EAAkD,KAAK,aAAvD,EAAsE,KAAtE;AACD,GA7BY;AA+Bb,EAAA,OAAO,kCACF,YAAY,CAAC,CAAC,MAAD,EAAS,MAAT,EAAiB,OAAjB,EAA0B,SAA1B,CAAD,CADV;AAGL,IAAA,OAHK,mBAGG,IAHH,EAGS;AACZ,aAAO,OAAO,CAAC,OAAR,CAAgB,MAAhB,iBAAgC,KAAK,QAAL,GAAgB,MAAhB,GAAyB,OAAzD,cAAoE,IAApE,UAAP;AACD,KALI;AAOL,IAAA,MAPK,oBAOI;AACP,WAAK,IAAL,GAAY,CAAC,KAAK,IAAlB;AACD,KATI;AAWL,IAAA,KAXK,mBAWG;AACN,WAAK,QAAL,GAAgB,KAAK,MAAL,CAAY,MAAZ,CAAmB,SAAnB,CAAhB,GAAgD,KAAK,MAAL,CAAY,MAAZ,CAAmB,OAAnB,CAAhD;AACD,KAbI;AAeL,IAAA,cAfK,4BAeY;AACf,WAAK,MAAL,CAAY,MAAZ,CAAmB,qBAAnB,EAA0C,KAA1C;AACD,KAjBI;AAmBL,IAAA,iBAnBK,+BAmBe;AAClB,WAAK,MAAL,CAAY,MAAZ,CAAmB,qBAAnB,EAA0C,IAA1C;AACD,KArBI;AAuBL,IAAA,aAvBK,yBAuBS,CAvBT,EAuBY;AACf,UAAI,CAAC,CAAC,CAAC,MAAP,EAAe;AACb;AACF;;AAEA,UAAI,CAAC,CAAC,GAAF,KAAU,GAAd,EAAmB;AACjB,aAAK,MAAL;AACF;;AAEA,UAAI,CAAC,CAAC,GAAF,KAAU,GAAd,EAAmB;AACjB,aAAK,cAAL;AACF;;AAEA,UAAI,CAAC,CAAC,GAAF,KAAU,GAAd,EAAmB;AACjB,aAAK,iBAAL;AACF;AACD;AAvCI;AA/BM,CAAf","sourcesContent":["<template>\n  <nav\n    v-show=\"!screenshotMode\"\n    :class=\"{\n      'hr-event-recorded': hasRecorded && !isPaused && !isStopped,\n      dark: darkMode,\n      hide: !show,\n    }\"\n  >\n    <template v-if=\"isStopped\">\n      <div class=\"hr-success-message\">\n        <h3>Recording finished!</h3>\n        <p>You can copy the code to clipboard right away!</p>\n      </div>\n      <div class=\"hr-success-bar\">\n        <button @click=\"copy\" class=\"hr-btn-large\" style=\"width: 151px;\">\n          <img\n            v-show=\"!isCopying\"\n            width=\"16\"\n            height=\"16\"\n            :src=\"getIcon('duplicate')\"\n            alt=\"copy to clipboard\"\n          />\n          <span v-show=\"!isCopying\">Copy to clipboard</span>\n          <span v-show=\"isCopying\">Copied!</span>\n        </button>\n        <button @click=\"restart\" class=\"hr-btn-large\">\n          <img width=\"16\" height=\"16\" :src=\"getIcon('sync')\" alt=\"restart recording\" />\n          Restart Recording\n        </button>\n        <button @click=\"close\" class=\"btn-close\">\n          &times;\n        </button>\n      </div>\n    </template>\n    <template v-else>\n      <div class=\"hr-rec\" v-show=\"!isPaused\">\n        <span class=\"hr-red-dot\"></span>\n        REC\n      </div>\n      <span class=\"hr-shortcut\">\n        alt + k to hide\n      </span>\n      <button\n        class=\"hr-btn\"\n        title=\"stop\"\n        @click=\"stop\"\n        v-tippy=\"{ content: 'Stop Recording', appendTo: 'parent' }\"\n      >\n        <div class=\"hr-stop-square\"></div>\n      </button>\n      <button\n        class=\"hr-btn\"\n        title=\"pause\"\n        @click=\"pause\"\n        v-tippy=\"{ content: isPaused ? 'Resume Recording' : 'Pause Recording', appendTo: 'parent' }\"\n      >\n        <img v-show=\"isPaused\" width=\"27\" height=\"27\" :src=\"getIcon('play')\" alt=\"play\" />\n        <img v-show=\"!isPaused\" width=\"27\" height=\"27\" :src=\"getIcon('pause')\" alt=\"pause\" />\n      </button>\n      <div class=\"hr-separator\"></div>\n      <button\n        :disabled=\"isPaused\"\n        class=\"hr-btn-big\"\n        @click.prevent=\"fullScreenshot\"\n        v-tippy=\"{ content: 'Full Screenshot (alt+shift+F)', appendTo: 'parent' }\"\n      >\n        <img width=\"27\" height=\"27\" :src=\"getIcon('screen')\" alt=\"full page sreenshot\" />\n      </button>\n      <button\n        :disabled=\"isPaused\"\n        class=\"hr-btn-big\"\n        @click.prevent=\"clippedScreenshot\"\n        v-tippy=\"{ content: 'Element Screenshot (alt+shift+E)', appendTo: 'parent' }\"\n      >\n        <img width=\"27\" height=\"27\" :src=\"getIcon('clip')\" alt=\"clipped sreenshot\" />\n      </button>\n      <div class=\"hr-separator\"></div>\n      <span class=\"hr-current-selector\">\n        {{ currentSelector }}\n      </span>\n    </template>\n  </nav>\n</template>\n\n<script>\nimport { directive } from 'vue-tippy'\nimport 'tippy.js/dist/tippy.css'\n\nimport { mapState, mapMutations } from 'vuex'\n\nexport default {\n  name: 'Overlay',\n  directives: { tippy: directive },\n\n  data() {\n    return {\n      currentSelector: '',\n      show: true,\n    }\n  },\n\n  computed: {\n    ...mapState([\n      'isPaused',\n      'isStopped',\n      'screenshotMode',\n      'darkMode',\n      'hasRecorded',\n      'isCopying',\n      'recording',\n    ]),\n  },\n\n  mounted() {\n    window.document.body.addEventListener('keyup', this.keyupListener, false)\n  },\n\n  beforeUnmount() {\n    window.document.body.removeEventListener('keyup', this.keyupListener, false)\n  },\n\n  methods: {\n    ...mapMutations(['copy', 'stop', 'close', 'restart']),\n\n    getIcon(icon) {\n      return browser.runtime.getURL(`icons/${this.darkMode ? 'dark' : 'light'}/${icon}.svg`)\n    },\n\n    toggle() {\n      this.show = !this.show\n    },\n\n    pause() {\n      this.isPaused ? this.$store.commit('unpause') : this.$store.commit('pause')\n    },\n\n    fullScreenshot() {\n      this.$store.commit('startScreenshotMode', false)\n    },\n\n    clippedScreenshot() {\n      this.$store.commit('startScreenshotMode', true)\n    },\n\n    keyupListener(e) {\n      if (!e.altKey) {\n        return\n      }\n\n      if (e.key === 'k') {\n        this.toggle()\n      }\n\n      if (e.key === 'F') {\n        this.fullScreenshot()\n      }\n\n      if (e.key === 'E') {\n        this.clippedScreenshot()\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import '../../assets/animations.css';\n\n$namespace: 'hr';\n\n#headless-recorder-overlay {\n  .#{$namespace}-button-open {\n    position: fixed;\n    bottom: 10px;\n    left: 0;\n    right: 0;\n  }\n\n  button {\n    border: none;\n    margin: 0;\n    padding: 0;\n\n    overflow: visible;\n    background: transparent;\n    color: inherit;\n    font: inherit;\n    line-height: normal;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    margin-right: 10px;\n  }\n\n  nav {\n    font-family: sans-serif;\n    box-sizing: border-box;\n    animation-name: slideup;\n    border: solid 2px #f9fafc;\n    animation-duration: 0.3s;\n    animation-iteration-count: 1;\n    animation-timing-function: ease-in-out;\n    display: flex;\n    align-items: center;\n    z-index: 2147483647;\n    position: fixed;\n    bottom: 10px;\n    left: 0;\n    right: 0;\n    margin-left: auto;\n    margin-right: auto;\n    font-size: 12px;\n    color: #1f2d3d;\n    padding: 20px 16px;\n    transition: all 0.1s ease;\n    width: 828px;\n    height: 72px;\n    background: #f9fafc;\n    box-shadow: 0px 5px 25px rgba(0, 0, 0, 0.15);\n    border-radius: 6px;\n\n    &.#{$namespace}-event-recorded {\n      border: solid 2px #45c8f1 !important;\n      transition: all 0.1s linear;\n    }\n\n    button {\n      &.#{$namespace}-btn-big {\n        padding: 5px 15px;\n        background: #eff2f7;\n        border-radius: 3px;\n\n        &:disabled {\n          cursor: not-allowed;\n        }\n      }\n\n      &.#{$namespace}-btn {\n        padding: 5px 0;\n      }\n\n      &.#{$namespace}-btn-large {\n        border-radius: 3px;\n        background: #eff2f7;\n        padding: 9px 17px 9px 8px;\n        color: #1f2d3d;\n        font-weight: 600;\n        margin-right: 16px;\n\n        &:last-of-type {\n          margin-right: 0;\n        }\n\n        &:hover {\n          background: #e0e6ed;\n        }\n\n        img {\n          margin-right: 8px;\n        }\n      }\n\n      &.#{$namespace}-btn-close {\n        font-size: 18px;\n        color: #161616;\n        margin-right: 0;\n      }\n    }\n\n    .#{$namespace}-shortcut {\n      color: #8492a6;\n      margin-right: 0;\n      font-family: sans-serif;\n      position: absolute;\n      top: 4px;\n      right: 4px;\n    }\n\n    .#{$namespace}-rec {\n      font-family: sans-serif;\n      animation: pulse 2s infinite;\n      font-size: 12px;\n      position: absolute;\n      top: 4px;\n      left: 4px;\n      font-weight: 600;\n      color: #ff4949;\n      text-transform: uppercase;\n\n      .#{$namespace}-red-dot {\n        display: inline-block;\n        border-radius: 50%;\n        width: 9px;\n        height: 9px;\n        background: #ff4949;\n      }\n    }\n\n    .#{$namespace}-separator {\n      width: 1px;\n      height: 32px;\n      background: #e0e6ed;\n      margin-right: 0.8rem;\n    }\n\n    .#{$namespace}-stop-square {\n      width: 24px;\n      height: 24px;\n      border-radius: 3px;\n      background-color: #1f2d3d;\n    }\n\n    .#{$namespace}-current-selector {\n      font-weight: 500;\n      font-size: 10px;\n      line-height: 20px;\n      font-family: monospace;\n    }\n\n    .#{$namespace}-success-bar {\n      display: flex;\n      width: 60%;\n      justify-content: flex-end;\n    }\n\n    .#{$namespace}-success-message {\n      width: 40%;\n\n      h3 {\n        font-size: 14px;\n        font-weight: 600;\n        margin: 0;\n        color: #1f2d3d;\n      }\n\n      p {\n        font-size: 12px;\n        margin: 0;\n        color: #3c4858;\n      }\n    }\n\n    .tippy-box {\n      box-shadow: 0px 5px 25px rgba(0, 0, 0, 0.15);\n      margin-top: -45px;\n      color: #1f2d3d;\n      background: #f9fafc;\n      border-radius: 4px;\n    }\n\n    .tippy-arrow {\n      color: #f9fafc;\n    }\n  }\n\n  nav.dark {\n    background: #161616;\n    border: solid 2px #161616;\n    color: #f9fafc;\n\n    button {\n      &.#{$namespace}-btn-big {\n        padding: 5px 15px;\n        background: #2e2e2e;\n        border-radius: 3px;\n      }\n\n      &.#{$namespace}-btn-large {\n        background: #1f2d3d;\n        color: #f9fafc;\n\n        &:hover {\n          background: #474747;\n        }\n      }\n\n      &.#{$namespace}-btn-close,\n      &.#{$namespace}-btn-label,\n      &.#{$namespace}-btn-up {\n        color: #fff;\n      }\n\n      &.#{$namespace}-btn-up {\n        background: #161616;\n      }\n    }\n\n    .#{$namespace}-success-message {\n      h3 {\n        color: #fff;\n      }\n\n      p {\n        color: #e0e6ed;\n      }\n    }\n\n    .#{$namespace}-separator {\n      background: #2e2e2e;\n    }\n\n    .#{$namespace}-stop-square {\n      background-color: #f9fafc;\n    }\n\n    .tippy-box {\n      color: #f9fafc;\n      background: #161616;\n    }\n\n    .tippy-arrow {\n      color: #161616;\n    }\n  }\n\n  nav.hide {\n    transform: translateY(82px) !important;\n  }\n}\n</style>\n"],"sourceRoot":""}]}