{"remainingRequest":"/Users/coryhack/headless-recorder/node_modules/babel-loader/lib/index.js!/Users/coryhack/headless-recorder/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/coryhack/headless-recorder/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/coryhack/headless-recorder/src/popup/PopupApp.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/coryhack/headless-recorder/src/popup/PopupApp.vue","mtime":1642800781937},{"path":"/Users/coryhack/headless-recorder/node_modules/cache-loader/dist/cjs.js","mtime":1643048371315},{"path":"/Users/coryhack/headless-recorder/node_modules/babel-loader/lib/index.js","mtime":1643048374140},{"path":"/Users/coryhack/headless-recorder/node_modules/cache-loader/dist/cjs.js","mtime":1643048371315},{"path":"/Users/coryhack/headless-recorder/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1643048376026}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9jb3J5aGFjay9oZWFkbGVzcy1yZWNvcmRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGJyb3dzZXIgZnJvbSAnQC9zZXJ2aWNlcy9icm93c2VyJzsKaW1wb3J0IHN0b3JhZ2UgZnJvbSAnQC9zZXJ2aWNlcy9zdG9yYWdlJzsKaW1wb3J0IGFuYWx5dGljcyBmcm9tICdAL3NlcnZpY2VzL2FuYWx5dGljcyc7CmltcG9ydCB7IHBvcHVwQWN0aW9ucywgaXNEYXJrTW9kZSB9IGZyb20gJ0Avc2VydmljZXMvY29uc3RhbnRzJzsKaW1wb3J0IENvZGVHZW5lcmF0b3IgZnJvbSAnQC9tb2R1bGVzL2NvZGUtZ2VuZXJhdG9yJzsKaW1wb3J0IEhvbWUgZnJvbSAnQC92aWV3cy9Ib21lLnZ1ZSc7CmltcG9ydCBSZXN1bHRzIGZyb20gJ0Avdmlld3MvUmVzdWx0cy52dWUnOwppbXBvcnQgUmVjb3JkaW5nIGZyb20gJ0Avdmlld3MvUmVjb3JkaW5nLnZ1ZSc7CmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL0J1dHRvbi52dWUnOwppbXBvcnQgRm9vdGVyIGZyb20gJ0AvY29tcG9uZW50cy9Gb290ZXIudnVlJzsKaW1wb3J0IEhlYWRlciBmcm9tICdAL2NvbXBvbmVudHMvSGVhZGVyLnZ1ZSc7CnZhciBidXM7CnZhciBkZWZhdWx0T3B0aW9ucyA9IHsKICBleHRlbnNpb246IHsKICAgIGRhcmtNb2RlOiBpc0RhcmtNb2RlKCkKICB9LAogIGNvZGU6IHt9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUG9wdXBBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIFJlc3VsdHM6IFJlc3VsdHMsCiAgICBSZWNvcmRpbmc6IFJlY29yZGluZywKICAgIEhvbWU6IEhvbWUsCiAgICBIZWFkZXI6IEhlYWRlciwKICAgIEZvb3RlcjogRm9vdGVyLAogICAgQnV0dG9uOiBCdXR0b24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0xvZ2dlZEluOiBmYWxzZSwKICAgICAgc2hvd1Jlc3VsdHNUYWI6IGZhbHNlLAogICAgICBpc1JlY29yZGluZzogZmFsc2UsCiAgICAgIGlzUGF1c2VkOiBmYWxzZSwKICAgICAgaXNDb3B5aW5nOiBmYWxzZSwKICAgICAgY3VycmVudFJlc3VsdFRhYjogbnVsbCwKICAgICAgbGl2ZUV2ZW50czogW10sCiAgICAgIHJlY29yZGluZzogW10sCiAgICAgIGNvZGU6ICcnLAogICAgICBjb2RlRm9yUGxheXdyaWdodDogJycsCiAgICAgIG9wdGlvbnM6IGRlZmF1bHRPcHRpb25zCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICdvcHRpb25zLmV4dGVuc2lvbi5kYXJrTW9kZSc6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWwpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdFtuZXdWYWwgPyAnYWRkJyA6ICdyZW1vdmUnXSgnZGFyaycpOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcy5sb2FkU3RhdGUoKTsKCiAgICAgICAgICAgICAgYnVzID0gYnJvd3Nlci5nZXRCYWNrZ3JvdW5kQnVzKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIuZ2V0Q2hlY2tseUNvb2tpZSgpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF90aGlzLmlzTG9nZ2VkSW4gPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlUmVjb3JkOiBmdW5jdGlvbiB0b2dnbGVSZWNvcmQoKSB7CiAgICAgIHZhciBjbG9zZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTsKCiAgICAgIGlmICh0aGlzLmlzUmVjb3JkaW5nKSB7CiAgICAgICAgdGhpcy5zdG9wKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2xvc2UgJiYgd2luZG93LmNsb3NlKCk7CiAgICAgICAgdGhpcy5zdGFydCgpOwogICAgICB9CgogICAgICB0aGlzLmlzUmVjb3JkaW5nID0gIXRoaXMuaXNSZWNvcmRpbmc7CiAgICAgIHRoaXMuc3RvcmVTdGF0ZSgpOwogICAgfSwKICAgIHRvZ2dsZVBhdXNlOiBmdW5jdGlvbiB0b2dnbGVQYXVzZSgpIHsKICAgICAgdmFyIHN0b3AgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgICBidXMucG9zdE1lc3NhZ2UoewogICAgICAgIGFjdGlvbjogdGhpcy5pc1BhdXNlZCA/IHBvcHVwQWN0aW9ucy5VTl9QQVVTRSA6IHBvcHVwQWN0aW9ucy5QQVVTRSwKICAgICAgICBzdG9wOiBzdG9wCiAgICAgIH0pOwogICAgICB0aGlzLmlzUGF1c2VkID0gIXRoaXMuaXNQYXVzZWQ7CiAgICAgIHRoaXMuc3RvcmVTdGF0ZSgpOwogICAgfSwKICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgYW5hbHl0aWNzLnRyYWNrRXZlbnQoewogICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucywKICAgICAgICBldmVudDogJ1N0YXJ0JwogICAgICB9KTsKICAgICAgdGhpcy5jbGVhblVwKCk7CiAgICAgIGJ1cy5wb3N0TWVzc2FnZSh7CiAgICAgICAgYWN0aW9uOiBwb3B1cEFjdGlvbnMuU1RBUlQKICAgICAgfSk7CiAgICB9LAogICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgYW5hbHl0aWNzLnRyYWNrRXZlbnQoewogICAgICAgICAgICAgICAgICBvcHRpb25zOiBfdGhpczIub3B0aW9ucywKICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdTdG9wJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBidXMucG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBhY3Rpb246IHBvcHVwQWN0aW9ucy5TVE9QCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2VuZXJhdGVDb2RlKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzMi5zdG9yZVN0YXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlc3RhcnQ6IGZ1bmN0aW9uIHJlc3RhcnQoKSB7CiAgICAgIHZhciBzdG9wID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgICAgdGhpcy5jbGVhblVwKCk7CiAgICAgIGJ1cy5wb3N0TWVzc2FnZSh7CiAgICAgICAgYWN0aW9uOiBwb3B1cEFjdGlvbnMuQ0xFQU5fVVAsCiAgICAgICAgdmFsdWU6IHN0b3AKICAgICAgfSk7CiAgICB9LAogICAgY2xlYW5VcDogZnVuY3Rpb24gY2xlYW5VcCgpIHsKICAgICAgdGhpcy5yZWNvcmRpbmcgPSB0aGlzLmxpdmVFdmVudHMgPSBbXTsKICAgICAgdGhpcy5jb2RlID0gJyc7CiAgICAgIHRoaXMuY29kZUZvclBsYXl3cmlnaHQgPSAnJzsKICAgICAgdGhpcy5zaG93UmVzdWx0c1RhYiA9IHRoaXMuaXNSZWNvcmRpbmcgPSB0aGlzLmlzUGF1c2VkID0gZmFsc2U7CiAgICAgIHRoaXMuc3RvcmVTdGF0ZSgpOwogICAgfSwKICAgIGdlbmVyYXRlQ29kZTogZnVuY3Rpb24gZ2VuZXJhdGVDb2RlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBfeWllbGQkc3RvcmFnZSRnZXQsIHJlY29yZGluZywgX3lpZWxkJHN0b3JhZ2UkZ2V0JG9wLCBvcHRpb25zLCBnZW5lcmF0b3IsIF9nZW5lcmF0b3IkZ2VuZXJhdGUsIHB1cHBldGVlciwgcGxheXdyaWdodDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBzdG9yYWdlLmdldChbJ3JlY29yZGluZycsICdvcHRpb25zJ10pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkc3RvcmFnZSRnZXQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHJlY29yZGluZyA9IF95aWVsZCRzdG9yYWdlJGdldC5yZWNvcmRpbmc7CiAgICAgICAgICAgICAgICBfeWllbGQkc3RvcmFnZSRnZXQkb3AgPSBfeWllbGQkc3RvcmFnZSRnZXQub3B0aW9uczsKICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfeWllbGQkc3RvcmFnZSRnZXQkb3AgPT09IHZvaWQgMCA/IHsKICAgICAgICAgICAgICAgICAgY29kZToge30KICAgICAgICAgICAgICAgIH0gOiBfeWllbGQkc3RvcmFnZSRnZXQkb3A7CiAgICAgICAgICAgICAgICBnZW5lcmF0b3IgPSBuZXcgQ29kZUdlbmVyYXRvcihvcHRpb25zLmNvZGUpOwogICAgICAgICAgICAgICAgX2dlbmVyYXRvciRnZW5lcmF0ZSA9IGdlbmVyYXRvci5nZW5lcmF0ZShyZWNvcmRpbmcpLCBwdXBwZXRlZXIgPSBfZ2VuZXJhdG9yJGdlbmVyYXRlLnB1cHBldGVlciwgcGxheXdyaWdodCA9IF9nZW5lcmF0b3IkZ2VuZXJhdGUucGxheXdyaWdodDsKICAgICAgICAgICAgICAgIF90aGlzMy5yZWNvcmRpbmcgPSByZWNvcmRpbmc7CiAgICAgICAgICAgICAgICBfdGhpczMuY29kZSA9IHB1cHBldGVlcjsKICAgICAgICAgICAgICAgIF90aGlzMy5jb2RlRm9yUGxheXdyaWdodCA9IHBsYXl3cmlnaHQ7CiAgICAgICAgICAgICAgICBfdGhpczMuc2hvd1Jlc3VsdHNUYWIgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb3Blbk9wdGlvbnM6IGZ1bmN0aW9uIG9wZW5PcHRpb25zKCkgewogICAgICBhbmFseXRpY3MudHJhY2tFdmVudCh7CiAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLAogICAgICAgIGV2ZW50OiAnT3B0aW9ucycKICAgICAgfSk7CiAgICAgIGJyb3dzZXIub3Blbk9wdGlvbnNQYWdlKCk7CiAgICB9LAogICAgbG9hZFN0YXRlOiBmdW5jdGlvbiBsb2FkU3RhdGUoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIF95aWVsZCRzdG9yYWdlJGdldDIsIF95aWVsZCRzdG9yYWdlJGdldDIkYywgY29udHJvbHMsIF95aWVsZCRzdG9yYWdlJGdldDIkYzIsIGNvZGUsIG9wdGlvbnMsIF95aWVsZCRzdG9yYWdlJGdldDIkYzMsIGNvZGVGb3JQbGF5d3JpZ2h0LCByZWNvcmRpbmcsIGNsZWFyLCBwYXVzZSwgcmVzdGFydDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBzdG9yYWdlLmdldChbJ2NvbnRyb2xzJywgJ2NvZGUnLCAnb3B0aW9ucycsICdjb2RlRm9yUGxheXdyaWdodCcsICdyZWNvcmRpbmcnLCAnY2xlYXInLCAncGF1c2UnLCAncmVzdGFydCddKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJHN0b3JhZ2UkZ2V0MiA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgX3lpZWxkJHN0b3JhZ2UkZ2V0MiRjID0gX3lpZWxkJHN0b3JhZ2UkZ2V0Mi5jb250cm9sczsKICAgICAgICAgICAgICAgIGNvbnRyb2xzID0gX3lpZWxkJHN0b3JhZ2UkZ2V0MiRjID09PSB2b2lkIDAgPyB7fSA6IF95aWVsZCRzdG9yYWdlJGdldDIkYzsKICAgICAgICAgICAgICAgIF95aWVsZCRzdG9yYWdlJGdldDIkYzIgPSBfeWllbGQkc3RvcmFnZSRnZXQyLmNvZGU7CiAgICAgICAgICAgICAgICBjb2RlID0gX3lpZWxkJHN0b3JhZ2UkZ2V0MiRjMiA9PT0gdm9pZCAwID8gJycgOiBfeWllbGQkc3RvcmFnZSRnZXQyJGMyOwogICAgICAgICAgICAgICAgb3B0aW9ucyA9IF95aWVsZCRzdG9yYWdlJGdldDIub3B0aW9uczsKICAgICAgICAgICAgICAgIF95aWVsZCRzdG9yYWdlJGdldDIkYzMgPSBfeWllbGQkc3RvcmFnZSRnZXQyLmNvZGVGb3JQbGF5d3JpZ2h0OwogICAgICAgICAgICAgICAgY29kZUZvclBsYXl3cmlnaHQgPSBfeWllbGQkc3RvcmFnZSRnZXQyJGMzID09PSB2b2lkIDAgPyAnJyA6IF95aWVsZCRzdG9yYWdlJGdldDIkYzM7CiAgICAgICAgICAgICAgICByZWNvcmRpbmcgPSBfeWllbGQkc3RvcmFnZSRnZXQyLnJlY29yZGluZzsKICAgICAgICAgICAgICAgIGNsZWFyID0gX3lpZWxkJHN0b3JhZ2UkZ2V0Mi5jbGVhcjsKICAgICAgICAgICAgICAgIHBhdXNlID0gX3lpZWxkJHN0b3JhZ2UkZ2V0Mi5wYXVzZTsKICAgICAgICAgICAgICAgIHJlc3RhcnQgPSBfeWllbGQkc3RvcmFnZSRnZXQyLnJlc3RhcnQ7CiAgICAgICAgICAgICAgICBfdGhpczQuaXNSZWNvcmRpbmcgPSBjb250cm9scy5pc1JlY29yZGluZzsKICAgICAgICAgICAgICAgIF90aGlzNC5pc1BhdXNlZCA9IGNvbnRyb2xzLmlzUGF1c2VkOwogICAgICAgICAgICAgICAgX3RoaXM0Lm9wdGlvbnMgPSBvcHRpb25zIHx8IGRlZmF1bHRPcHRpb25zOwogICAgICAgICAgICAgICAgX3RoaXM0LmNvZGUgPSBjb2RlOwogICAgICAgICAgICAgICAgX3RoaXM0LmNvZGVGb3JQbGF5d3JpZ2h0ID0gY29kZUZvclBsYXl3cmlnaHQ7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNC5pc1JlY29yZGluZykgewogICAgICAgICAgICAgICAgICBfdGhpczQubGl2ZUV2ZW50cyA9IHJlY29yZGluZzsKCiAgICAgICAgICAgICAgICAgIGlmIChjbGVhcikgewogICAgICAgICAgICAgICAgICAgIF90aGlzNC50b2dnbGVSZWNvcmQoKTsKCiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5yZW1vdmUoWydjbGVhciddKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKHBhdXNlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnRvZ2dsZVBhdXNlKHRydWUpOwoKICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnJlbW92ZShbJ3BhdXNlJ10pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAocmVzdGFydCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNC5jbGVhblVwKCk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzNC50b2dnbGVSZWNvcmQoZmFsc2UpOwoKICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnJlbW92ZShbJ3Jlc3RhcnQnXSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXM0LmNvZGUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmdlbmVyYXRlQ29kZSgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3RvcmVTdGF0ZTogZnVuY3Rpb24gc3RvcmVTdGF0ZSgpIHsKICAgICAgc3RvcmFnZS5zZXQoewogICAgICAgIGNvZGU6IHRoaXMuY29kZSwKICAgICAgICBjb2RlRm9yUGxheXdyaWdodDogdGhpcy5jb2RlRm9yUGxheXdyaWdodCwKICAgICAgICBjb250cm9sczogewogICAgICAgICAgaXNSZWNvcmRpbmc6IHRoaXMuaXNSZWNvcmRpbmcsCiAgICAgICAgICBpc1BhdXNlZDogdGhpcy5pc1BhdXNlZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY29weUNvZGU6IGZ1bmN0aW9uIGNvcHlDb2RlKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczUuaXNDb3B5aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBicm93c2VyLmNvcHlUb0NsaXBib2FyZChfdGhpczUuZ2V0Q29kZSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuaXNDb3B5aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9LCA1MDApOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnb0hlbHA6IGZ1bmN0aW9uIGdvSGVscCgpIHsKICAgICAgYnJvd3Nlci5vcGVuSGVscFBhZ2UoKTsKICAgIH0sCiAgICB0b2dnbGVEYXJrTW9kZTogZnVuY3Rpb24gdG9nZ2xlRGFya01vZGUoKSB7CiAgICAgIHRoaXMub3B0aW9ucy5leHRlbnNpb24uZGFya01vZGUgPSAhdGhpcy5vcHRpb25zLmV4dGVuc2lvbi5kYXJrTW9kZTsKICAgICAgc3RvcmFnZS5zZXQoewogICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucwogICAgICB9KTsKICAgIH0sCiAgICBnZXRDb2RlOiBmdW5jdGlvbiBnZXRDb2RlKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50UmVzdWx0VGFiID09PSAncHVwcGV0ZWVyJyA/IHRoaXMuY29kZSA6IHRoaXMuY29kZUZvclBsYXl3cmlnaHQ7CiAgICB9LAogICAgcnVuOiBmdW5jdGlvbiBydW4oKSB7CiAgICAgIGJyb3dzZXIub3BlbkNoZWNrbHlSdW5uZXIoewogICAgICAgIGNvZGU6IHRoaXMuZ2V0Q29kZSgpLAogICAgICAgIHJ1bm5lcjogdGhpcy5jdXJyZW50UmVzdWx0VGFiLAogICAgICAgIGlzTG9nZ2VkSW46IHRoaXMuaXNMb2dnZWRJbgogICAgICB9KTsKICAgIH0KICB9Cn07"},null]}