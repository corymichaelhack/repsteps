!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue-demi")):"function"==typeof define&&define.amd?define(["exports","vue-demi"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["VueUseShared utilities"]={},e.VueDemi)}(this,(function(e,t){"use strict";function n(e,t){var n={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&t.indexOf(u)<0&&(n[u]=e[u]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(u=Object.getOwnPropertySymbols(e);r<u.length;r++)t.indexOf(u[r])<0&&Object.prototype.propertyIsEnumerable.call(e,u[r])&&(n[u[r]]=e[u[r]])}return n}const u="undefined"!=typeof window,r=Object.prototype.toString;function o(e,t){return function(...n){e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})}}const i=e=>e();function c(e){if(e<=0)return i;let t;return n=>{t&&clearTimeout(t),t=setTimeout(n,e)}}function s(e,t=!0){if(e<=0)return i;let n,u=0;const r=()=>{n&&(clearTimeout(n),n=void 0)};return o=>{const i=Date.now()-u;r(),i>e?(u=Date.now(),o()):t&&(n=setTimeout((()=>{r(),o()}),e))}}function l(e=i){const n=t.ref(!0);return{isActive:n,pause:function(){n.value=!1},resume:function(){n.value=!0},eventFilter:(...t)=>{n.value&&e(...t)}}}function a(e,t=!1,n="Timeout"){return new Promise(((u,r)=>{t?setTimeout((()=>r(n)),e):setTimeout(u,e)}))}function f(e,u,r={}){const{eventFilter:c=i}=r,s=n(r,["eventFilter"]);return t.watch(e,o(c,u),s)}function v(e){return function(...n){return t.computed((()=>e.apply(this,n.map((e=>t.unref(e))))))}}function p(e){t.getCurrentInstance()&&t.onUnmounted(e)}function d(e,t=200){return o(c(t),e)}function m(e,n=1e3,r=!0){let o=null;const i=t.ref(!1);function c(){o&&(clearInterval(o),o=null)}function s(){i.value=!1,c()}function l(){i.value=!0,c(),o=setInterval(e,n)}return r&&u&&l(),p(s),{isActive:i,pause:s,resume:l,start:l,stop:s}}function h(e,t=200,n=!0){return o(s(t,n),e)}function b(e,n,r=!0){const o=t.ref(!1);let i=null;function c(){i&&(clearTimeout(i),i=null)}function s(){o.value=!1,c()}function l(){c(),o.value=!0,i=setTimeout((()=>{i=null,e()}),n)}return r&&u&&l(),p(s),{isActive:o,start:l,stop:s}}e.assert=(e,...t)=>{e||console.warn(...t)},e.biSyncRef=function(e,n){const u="sync",r=t.watch(e,(e=>{n.value=e}),{flush:u,immediate:!0}),o=t.watch(n,(t=>{e.value=t}),{flush:u,immediate:!0});return()=>{r(),o()}},e.bypassFilter=i,e.clamp=(e,t,n)=>Math.min(n,Math.max(t,e)),e.controlledComputed=function(e,n){const u=t.ref(n());return t.watch(e,(()=>u.value=n()),{flush:"sync"}),t.computed((()=>u.value))},e.createFilterWrapper=o,e.debounceFilter=c,e.debouncedWatch=function(e,t,u={}){const{debounce:r=0}=u,o=n(u,["debounce"]);return f(e,t,Object.assign(Object.assign({},o),{eventFilter:c(r)}))},e.extendRef=function(e,n,{enumerable:u=!1,unwrap:r=!0}={}){!function(e="this function"){if(!t.isVue3)throw new Error(`[VueUse] ${e} is only works on Vue 3.`)}();for(const[o,i]of Object.entries(n))"value"!==o&&(t.isRef(i)&&r?Object.defineProperty(e,o,{get:()=>i.value,set(e){i.value=e},enumerable:u}):Object.defineProperty(e,o,{value:i,enumerable:u}));return e},e.get=function(e,n){return null==n?t.unref(e):t.unref(e)[n]},e.ignorableWatch=function(e,u,r={}){const{eventFilter:c=i}=r,s=n(r,["eventFilter"]),l=o(c,u);let a,f,v;if("sync"===s.flush){const n=t.ref(!1);f=()=>{},a=e=>{n.value=!0,e(),n.value=!1},v=t.watch(e,((...e)=>{n.value||l(...e)}),s)}else{const n=[],u=t.ref(0),r=t.ref(0);f=()=>{u.value=r.value},n.push(t.watch(e,(()=>{r.value++}),Object.assign(Object.assign({},s),{flush:"sync"}))),a=e=>{const t=r.value;e(),u.value+=r.value-t},n.push(t.watch(e,((...e)=>{const t=u.value>0&&u.value===r.value;u.value=0,r.value=0,t||l(...e)}),s)),v=()=>{n.forEach((e=>e()))}}return{stop:v,ignoreUpdates:a,ignorePrevAsyncUpdates:f}},e.invoke=function(e){return e()},e.isBoolean=e=>"boolean"==typeof e,e.isClient=u,e.isDef=e=>void 0!==e,e.isFunction=e=>"function"==typeof e,e.isNumber=e=>"number"==typeof e,e.isObject=e=>"[object Object]"===r.call(e),e.isString=e=>"string"==typeof e,e.isWindow=e=>"undefined"!=typeof window&&"[object Window]"===r.call(e),e.makeDestructurable=function(e,t){if("undefined"!=typeof Symbol){const n=Object.assign({},e);return Object.defineProperty(n,Symbol.iterator,{enumerable:!1,value(){let e=0;return{next:()=>({value:t[e++],done:e>t.length})}}}),n}return Object.assign([...t],e)},e.noop=()=>{},e.now=()=>Date.now(),e.pausableFilter=l,e.pausableWatch=function(e,t,u={}){const{eventFilter:r}=u,o=n(u,["eventFilter"]),{eventFilter:i,pause:c,resume:s,isActive:a}=l(r);return{stop:f(e,t,Object.assign(Object.assign({},o),{eventFilter:i})),pause:c,resume:s,isActive:a}},e.promiseTimeout=a,e.reactify=v,e.reactifyObject=function(e,t={}){let n=[];if(Array.isArray(t))n=t;else{const{includeOwnProperties:u=!0}=t;n.push(...Object.keys(e)),u&&n.push(...Object.getOwnPropertyNames(e))}return Object.fromEntries(n.map((t=>{const n=e[t];return[t,"function"==typeof n?v(n.bind(e)):n]})))},e.set=function(...e){if(2===e.length){const[t,n]=e;t.value=n}if(3===e.length)if(t.isVue2)require("vue-demi").set(...e);else{const[t,n,u]=e;t[n]=u}},e.syncRef=function(e,n,{flush:u="sync",deep:r=!1,immediate:o=!0}={}){return Array.isArray(n)||(n=[n]),t.watch(e,(e=>{n.forEach((t=>t.value=e))}),{flush:u,deep:r,immediate:o})},e.throttleFilter=s,e.throttledWatch=function(e,t,u={}){const{throttle:r=0}=u,o=n(u,["throttle"]);return f(e,t,Object.assign(Object.assign({},o),{eventFilter:s(r)}))},e.timestamp=()=>+Date.now(),e.tryOnMounted=function(e,n=!0){t.getCurrentInstance()?t.onMounted(e):n?e():t.nextTick(e)},e.tryOnUnmounted=p,e.useCounter=function(e=0){const n=t.ref(e),u=e=>n.value=e;return{count:n,inc:(e=1)=>n.value+=e,dec:(e=1)=>n.value-=e,get:()=>n.value,set:u,reset:(t=e)=>(e=t,u(t))}},e.useDebounce=function(e,n=200){if(n<=0)return e;const u=t.ref(e.value),r=d((()=>{u.value=e.value}),n);return t.watch(e,(()=>r())),u},e.useDebounceFn=d,e.useInterval=function(e=1e3,n=!0){const u=t.ref(0);return Object.assign({counter:u},m((()=>u.value+=1),e,n))},e.useIntervalFn=m,e.useThrottle=function(e,n=200){if(n<=0)return e;const u=t.ref(e.value),r=h((()=>{u.value=e.value}),n);return t.watch(e,(()=>r())),u},e.useThrottleFn=h,e.useTimeout=function(e=1e3,n=!0){const u=t.ref(!1),r=b((()=>u.value=!0),e,n);return{ready:u,isActive:r.isActive,start:function(){u.value=!1,r.start()},stop:function(){u.value=!1,r.stop()}}},e.useTimeoutFn=b,e.useToggle=function(e=!1){if(t.isRef(e))return()=>e.value=!e.value;{const n=t.ref(e),u=()=>n.value=!n.value;return[n,u]}},e.watchWithFilter=f,e.when=function(e){let n=!1;function u(u,{flush:r="sync",deep:o=!1,timeout:i,throwOnTimeout:c}={}){let s=null;const l=[new Promise((i=>{s=t.watch(e,(e=>{u(e)===!n&&(null==s||s(),i())}),{flush:r,deep:o,immediate:!0})}))];return i&&l.push(a(i,c).finally((()=>{null==s||s()}))),Promise.race(l)}function r(e,n){return u((n=>n===t.unref(e)),n)}function o(e){return i(1,e)}function i(e=1,t){let n=-1;return u((()=>(n+=1,n>=e)),t)}if(Array.isArray(t.unref(e))){return{toMatch:u,toContains:function(e,n){return u((n=>{const u=Array.from(n);return u.includes(e)||u.includes(t.unref(e))}),n)},changed:o,changedTimes:i,get not(){return n=!n,this}}}return{toMatch:u,toBe:r,toBeTruthy:function(e){return u((e=>Boolean(e)),e)},toBeNull:function(e){return r(null,e)},toBeNaN:function(e){return u(Number.isNaN,e)},toBeUndefined:function(e){return r(void 0,e)},changed:o,changedTimes:i,get not(){return n=!n,this}}},Object.defineProperty(e,"__esModule",{value:!0})}));
